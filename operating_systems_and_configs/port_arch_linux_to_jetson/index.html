
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../make_grub_menu_appear/">
      
      
        <link rel="next" href="../raspberry_pi_camera/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Port Arch Linux to Jetson - JH How To</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#port-arch-linux-to-jetson" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="JH How To" class="md-header__button md-logo" aria-label="JH How To" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            JH How To
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Port Arch Linux to Jetson
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="JH How To" class="md-nav__button md-logo" aria-label="JH How To" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    JH How To
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Apps
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Apps
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/install_etcher/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install Etcher
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/linux_setup_bluetooth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linux - Setup Bluetooth
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/network_scan/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Network Scanning
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Coding
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Coding
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../coding/asynchronous_programming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Asynchronous Programming
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../coding/bad_python_habits/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bad Python Habits
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../coding/diagnosing_slow_python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Diagnosing Slow Python
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    FFMPEG & ImageMagick
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            FFMPEG & ImageMagick
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ffmpeg_imagemagick/animate_images/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Animate Images
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ffmpeg_imagemagick/change_resolution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Change Resolution
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ffmpeg_imagemagick/convert_many_images/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Convert Many Images
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ffmpeg_imagemagick/convert_video_to_gif/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Convert Video to GIF
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ffmpeg_imagemagick/cropping/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cropping
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ffmpeg_imagemagick/split_gif_into_images/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Split GIF into Images
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ffmpeg_imagemagick/transcode_video_resolve/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Transcode Video Resolve
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ffmpeg_imagemagick/yt_dlp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    YT DLP
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    File Handling
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            File Handling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../file_handling/alternative_to_scp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Alternative to SCP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../file_handling/file_counting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File Counting
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../file_handling/rename_many_files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Rename Many Files
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Operating Systems & Configs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Operating Systems & Configs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../get_windows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Get Windows
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../graphics_drivers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Graphics Drivers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install_arch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install Arch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install_ROCm_drivers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install ROCm Drivers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../make_grub_menu_appear/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Make GRUB Menu Appear
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Port Arch Linux to Jetson
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Port Arch Linux to Jetson
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#on-host-computer-preferably-running-linux" class="md-nav__link">
    <span class="md-ellipsis">
      On host computer (preferably running Linux)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="On host computer (preferably running Linux)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#obtaining-drivers-and-image" class="md-nav__link">
    <span class="md-ellipsis">
      Obtaining Drivers and Image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-the-configuration-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Changing the Configuration Scripts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Changing the Configuration Scripts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#changes-to-nvidia_drivers-package" class="md-nav__link">
    <span class="md-ellipsis">
      Changes to nvidia_drivers Package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-the-nv_tools-package" class="md-nav__link">
    <span class="md-ellipsis">
      Changes to the nv_tools Package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-nvgstapps-package" class="md-nav__link">
    <span class="md-ellipsis">
      Changes to nvgstapps Package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#finalizing-configuration-changes" class="md-nav__link">
    <span class="md-ellipsis">
      Finalizing Configuration Changes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-rootfs" class="md-nav__link">
    <span class="md-ellipsis">
      Changes to rootfs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Changes to rootfs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initialization-script" class="md-nav__link">
    <span class="md-ellipsis">
      Initialization Script​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pacman-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Pacman Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flashing-the-jetson" class="md-nav__link">
    <span class="md-ellipsis">
      Flashing the Jetson
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../raspberry_pi_camera/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Raspberry Pi Camera
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ssh_error/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SSH Errors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ubuntu_stop_automatically_adding_printers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ubuntu - Stop Automatically Adding Printers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ubuntu_stop_screen_tearing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ubuntu - Stop Screen Tearing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ubuntu_working_with_external_drives/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ubuntu - Working with External Drives
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../wifi_drivers_arch_linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Arch - Wifi Drivers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stop_ds_store_file_creation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Stop DS Store File Creation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Other
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Other
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/add_ssh_key_to_git_repo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Add SSH Key to Git
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/compress_pdf_in_terminal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Compress PDF in Terminal
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/loop_through_files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Loop Through Files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/ms_office_templates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MS Office Templates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/running_a_job_using_tmux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Running a Job Using Tmux
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/solar_arrays/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Solar Arrays
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/ssh_raspi_usb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SSH Raspberry Pi USB
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#on-host-computer-preferably-running-linux" class="md-nav__link">
    <span class="md-ellipsis">
      On host computer (preferably running Linux)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="On host computer (preferably running Linux)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#obtaining-drivers-and-image" class="md-nav__link">
    <span class="md-ellipsis">
      Obtaining Drivers and Image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-the-configuration-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Changing the Configuration Scripts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Changing the Configuration Scripts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#changes-to-nvidia_drivers-package" class="md-nav__link">
    <span class="md-ellipsis">
      Changes to nvidia_drivers Package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-the-nv_tools-package" class="md-nav__link">
    <span class="md-ellipsis">
      Changes to the nv_tools Package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-nvgstapps-package" class="md-nav__link">
    <span class="md-ellipsis">
      Changes to nvgstapps Package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#finalizing-configuration-changes" class="md-nav__link">
    <span class="md-ellipsis">
      Finalizing Configuration Changes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-rootfs" class="md-nav__link">
    <span class="md-ellipsis">
      Changes to rootfs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Changes to rootfs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initialization-script" class="md-nav__link">
    <span class="md-ellipsis">
      Initialization Script​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pacman-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Pacman Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flashing-the-jetson" class="md-nav__link">
    <span class="md-ellipsis">
      Flashing the Jetson
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="port-arch-linux-to-jetson">Port Arch Linux to Jetson</h1>
<p>This guide will show you how to port Arch Linux onto the Nvidia Jetson Nano Devkit. Including installing the kernel, drivers, and configuration from the Linux for Nano release provided by NVIDIA. It will also provide steps for testing that the NVIDIA drivers have been installed correctly and are working correctly.</p>
<h2 id="on-host-computer-preferably-running-linux">On host computer (preferably running Linux)</h2>
<h3 id="obtaining-drivers-and-image">Obtaining Drivers and Image</h3>
<ol>
<li>
<p>Download the latest Nano Driver Package from https://developer.nvidia.com/linux-tegra
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>wget<span class="w"> </span>https://developer.nvidia.com/embedded/l4t/r32_release_v6.1/t210/jetson-210_linux_r32.6.1_aarch64.tbz2<span class="w"> </span>Linux_for_Tegra.tbz2
</code></pre></div></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The link is different for the AGX Xavier Jetson.</p>
</div>
</li>
<li>
<p>Extract the downloaded Jetson Nano driver packages (from step 1) to a folder called <code>Linux_for_Tegra</code>:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>sudo<span class="w"> </span>tar<span class="w"> </span>jxpf<span class="w"> </span>Linux_for_Tegra.tbz2
</code></pre></div></p>
</li>
<li>
<p>Go into the directories created from the extracted tar file (from step 2):
    <div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nb">cd</span><span class="w"> </span>Linux_for_tegra<span class="w">  </span><span class="c1"># We will refer to this directory as &lt;path_to_L4T_TOP_DIR&gt;</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="nb">cd</span><span class="w"> </span>rootfs<span class="w">           </span><span class="c1"># We will refer to this directory as &lt;path_to_L4T_rootfs&gt;</span>
</code></pre></div></p>
</li>
<li>
<p>Enter the <code>&lt;path_to_L4T_rootfs&gt;</code> folder, download and extract the arch image file:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nb">cd</span><span class="w"> </span>rootfs
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>wget<span class="w"> </span>http://os.archlinuxarm.org/os/ArchLinuxARM-aarch64-latest.tar.gz
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>sudo<span class="w"> </span>tar<span class="w"> </span>-xpf<span class="w"> </span>ArchLinuxARM-aarch64-latest.tar.gz
</code></pre></div></p>
</li>
</ol>
<h3 id="changing-the-configuration-scripts">Changing the Configuration Scripts</h3>
<p>Compared to Ubuntu a few configuration changes are needed as Arch Linux has a different directory structure and init program. This section outlines the changes that need to be made to the archives in nv_tegra folder of the driver package of Release. Many of the files / directories need to be relocated as the file system hierarchy differs between Arch Linux and Ubuntu.</p>
<ol>
<li>
<p>Modify the <code>nv_customize_rootfs.sh</code>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>sudo<span class="w"> </span>vim<span class="w"> </span>Linux_for_Tegra/nv_tools/scripts/nv_customize_rootfs.sh
</code></pre></div></p>
<p>Find the part of the script where:
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">LDK_ROOTFS_DIR</span><span class="si">}</span><span class="s2">/usr/lib/arm-linux-gnueabihf/tegra&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">    </span><span class="nv">ARM_ABI_DIR_ABS</span><span class="o">=</span><span class="s2">&quot;usr/lib/arm-linux-gnueabihf&quot;</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">LDK_ROOTFS_DIR</span><span class="si">}</span><span class="s2">/usr/lib/arm-linux-gnueabi/tegra&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">    </span><span class="nv">ARM_ABI_DIR_ABS</span><span class="o">=</span><span class="s2">&quot;usr/lib/arm-linux-gnueabi&quot;</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">LDK_ROOTFS_DIR</span><span class="si">}</span><span class="s2">/usr/lib/aarch64-linux-gnu/tegra&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">    </span><span class="nv">ARM_ABI_DIR_ABS</span><span class="o">=</span><span class="s2">&quot;usr/lib/aarch64-linux-gnu&quot;</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="k">else</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: None of Hardfp/Softfp Tegra libs found&quot;</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">4</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="k">fi</span>
</code></pre></div></p>
<p>And add the two lines:
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">LDK_ROOTFS_DIR</span><span class="si">}</span><span class="s2">/usr/lib/arm-linux-gnueabihf/tegra&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">    </span><span class="nv">ARM_ABI_DIR_ABS</span><span class="o">=</span><span class="s2">&quot;usr/lib/arm-linux-gnueabihf&quot;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">LDK_ROOTFS_DIR</span><span class="si">}</span><span class="s2">/usr/lib/arm-linux-gnueabi/tegra&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">    </span><span class="nv">ARM_ABI_DIR_ABS</span><span class="o">=</span><span class="s2">&quot;usr/lib/arm-linux-gnueabi&quot;</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">LDK_ROOTFS_DIR</span><span class="si">}</span><span class="s2">/usr/lib/aarch64-linux-gnu/tegra&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">    </span><span class="nv">ARM_ABI_DIR_ABS</span><span class="o">=</span><span class="s2">&quot;usr/lib/aarch64-linux-gnu&quot;</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">LDK_ROOTFS_DIR</span><span class="si">}</span><span class="s2">/usr/lib/tegra&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w">                     </span><span class="c1"># Add this line</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">    </span><span class="nv">ARM_ABI_DIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">LDK_ROOTFS_DIR</span><span class="si">}</span><span class="s2">/usr/lib&quot;</span><span class="w">                             </span><span class="c1"># Add this line</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="k">else</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: None of Hardfp/Softfp Tegra libs found&quot;</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">4</span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="k">fi</span>
</code></pre></div></p>
</li>
<li>
<p>Extract the tars of the nv_tegra folder into directories of the same name:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nb">cd</span><span class="w"> </span>Linux_for_Tegra/nv_tegra
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>sudo<span class="w"> </span>mkdir<span class="w"> </span>nvidia_drivers<span class="w"> </span>config<span class="w"> </span>nv_tools<span class="w"> </span>nv_sample_apps/nvgstapps
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>sudo<span class="w"> </span>tar<span class="w"> </span>-xpjf<span class="w"> </span>nvidia_drivers.tbz2<span class="w"> </span>-C<span class="w"> </span>nvidia_drivers/
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>sudo<span class="w"> </span>tar<span class="w"> </span>-xpjf<span class="w"> </span>config.tbz2<span class="w"> </span>-C<span class="w"> </span>config/
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>sudo<span class="w"> </span>tar<span class="w"> </span>-xpjf<span class="w"> </span>nv_tools.tbz2<span class="w"> </span>-C<span class="w"> </span>nv_tools/
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>sudo<span class="w"> </span>tar<span class="w"> </span>-xpjf<span class="w"> </span>nv_sample_apps/nvgstapps.tbz2<span class="w"> </span>-C<span class="w"> </span>nv_sample_apps/nvgstapps/
</code></pre></div></p>
</li>
</ol>
<h4 id="changes-to-nvidia_drivers-package">Changes to <code>nvidia_drivers</code> Package</h4>
<ol>
<li>
<p>The <code>lib</code> folder will need to be moved into <code>/usr</code>:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nb">cd</span><span class="w"> </span>Linux_for_Tegra/nv_tegra/nvidia_drivers
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>sudo<span class="w"> </span>mv<span class="w"> </span>lib/*<span class="w"> </span>usr/lib/
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>sudo<span class="w"> </span>rm<span class="w"> </span>-r<span class="w"> </span>lib
</code></pre></div></p>
</li>
<li>
<p>Everything in <code>usr/lib/aarch64-linux-gnu</code> will need to be moved into <code>usr/lib</code>:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>sudo<span class="w"> </span>mv<span class="w"> </span>usr/lib/aarch64-linux-gnu/*<span class="w"> </span>usr/lib/
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>sudo<span class="w"> </span>rm<span class="w"> </span>-r<span class="w"> </span>usr/lib/aarch64-linux-gnu
</code></pre></div></p>
</li>
<li>
<p><code>nv_tegra_release</code> in <code>etc/</code> will need to be updated to include the correct path to the tegra libraries:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>sudo<span class="w"> </span>vim<span class="w"> </span>Linux_for_Tegra/nv_tegra/nvidia_drivers/etc/nv_tegra_release
</code></pre></div></p>
<p>The line in <code>nv_tegra_release</code> need to be replaced. Find the line:
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>0c165125388fbd943e7f8b37a272dec7c5d57c15<span class="w"> </span>*/usr/lib/aarch64-linux-gnu/tegra/libnvmm.so
</code></pre></div></p>
<p>Replace it with the correct path:
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>0c165125388fbd943e7f8b37a272dec7c5d57c15<span class="w"> </span>*/usr/lib/tegra/libnvmm.so
</code></pre></div></p>
</li>
<li>
<p>Now go into the folder <code>Linux_for_Tegra/nv_tegra/nvidia_drivers/etc/ld.so.conf.d/</code>:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>sudo<span class="w"> </span>vim<span class="w"> </span>Linux_for_Tegra/nv_tegra/nvidia_drivers/etc/ld.so.conf.d/nvidia-tegra.conf
</code></pre></div></p>
<p>Point to the right directory and add the <code>tegra-egl</code> entry. The contents of <code>nvidia-tegra.conf</code> should look like this:
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>/usr/lib/tegra
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>/usr/lib/tegra-egl
</code></pre></div></p>
</li>
</ol>
<h4 id="changes-to-the-nv_tools-package">Changes to the <code>nv_tools</code> Package</h4>
<p><em>Note:</em> In more recent versions of the nvidia drivers package (downloaded in step 1) you may not need to do step 11 as it has already done for you. Check the directories before running the commands in step 11.</p>
<ol>
<li>The tegrastats script should be moved from <code>home/ubuntu</code> into the <code>/usr/bin</code> directory. This removes the dependency on a user called <code>ubuntu</code>:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="nb">cd</span><span class="w"> </span>Linux_for_Tegra/nv_tegra/nv_tools
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>mkdir<span class="w"> </span>-p<span class="w"> </span>usr/bin
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>mv<span class="w"> </span>home/ubuntu/tegrastats<span class="w"> </span>usr/bin/
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>rm<span class="w"> </span>-r<span class="w"> </span>home
</code></pre></div></li>
</ol>
<h4 id="changes-to-nvgstapps-package">Changes to <code>nvgstapps</code> Package</h4>
<p><em>Note:</em> In more recent versions of the nvidia drivers package (downloaded in step 1) you may not need to do step 12 as it has already done for you. Check the directories before running the commands in step 12.</p>
<ol>
<li>
<p>Move the contents of <code>usr/sbin</code> into `usr/bin``
    <div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="nb">cd</span><span class="w"> </span>Linux_for_Tegra/nv_tegra/nv_sample_apps/nvgstapps/
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>sudo<span class="w"> </span>mv<span class="w"> </span>usr/sbin/*<span class="w"> </span>usr/bin
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>sudo<span class="w"> </span>rm<span class="w"> </span>-r<span class="w"> </span>usr/sbin
</code></pre></div></p>
</li>
<li>
<p>Move the contents of <code>usr/lib/aarch64-linux-gnu</code> to <code>usr/lib</code>
    <div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>sudo<span class="w"> </span>mv<span class="w"> </span>usr/lib/aarch64-linux-gnu/*<span class="w"> </span>usr/lib/
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>sudo<span class="w"> </span>rm<span class="w"> </span>-r<span class="w"> </span>usr/lib/aarch64-linux-gnu
</code></pre></div></p>
</li>
</ol>
<h4 id="finalizing-configuration-changes">Finalizing Configuration Changes</h4>
<ol>
<li>
<p>When you have finished making all the listed changes, repackage the files:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="nb">cd</span><span class="w"> </span>&lt;path_to_L4T_TOP_DIR&gt;/nv_tegra
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="nb">cd</span><span class="w"> </span>nvidia_drivers
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>sudo<span class="w"> </span>tar<span class="w"> </span>-cpjf<span class="w"> </span>../nvidia_drivers.tbz2<span class="w"> </span>*
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="nb">cd</span><span class="w"> </span>..
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="nb">cd</span><span class="w"> </span>config
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>sudo<span class="w"> </span>tar<span class="w"> </span>-cpjf<span class="w"> </span>../config.tbz2<span class="w"> </span>*
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="nb">cd</span><span class="w"> </span>..
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="nb">cd</span><span class="w"> </span>nv_tools
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>sudo<span class="w"> </span>tar<span class="w"> </span>-cpjf<span class="w"> </span>../nv_tools.tbz2<span class="w"> </span>*
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="nb">cd</span><span class="w"> </span>..
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="nb">cd</span><span class="w"> </span>nv_sample_apps/nvgstapps
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>sudo<span class="w"> </span>tar<span class="w"> </span>-cpjf<span class="w"> </span>../nvgstapps.tbz2<span class="w"> </span>*
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="nb">cd</span><span class="w"> </span>../..
</code></pre></div>
</li>
</ol>
<h3 id="changes-to-rootfs">Changes to <code>rootfs</code></h3>
<p>The following are changes that will be made to contents in your rootfs directory.</p>
<h4 id="initialization-script">Initialization Script​</h4>
<p>As Arch Linux uses systemd rather than upstart, the init script will need to be converted into a systemd service. Information on systemd and how to create services can be found on the <a href="https://wiki.archlinux.org/title/Systemd">Arch Linux Wiki page for systemd</a></p>
<ol>
<li>
<p>To create the systemd service, we will need the service descriptor file, that tells systemd about the service. Hence need to create a service file as below in <code>&lt;path_to_L4T_TOP_DIR&gt;/rootfs/usr/lib/systemd/system/nvidia-tegra.service</code>:</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Path may actually be <code>&lt;path_to_L4T_TOP_DIR&gt;/usr/lib/systemd/system/nvidia-tegra.service</code>. Try the first one before showing this guide to anyone else!!</p>
</div>
<p>Create and open file in vim editor:
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>sudo<span class="w"> </span>vim<span class="w"> </span>Linux_for_Tegra/usr/lib/systemd/system/nvidia-tegra.service
</code></pre></div></p>
<p>File contents:
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c1">##Location</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="c1">## /usr/lib/systemd/system/nvidia-tegra.service</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="o">[</span>Unit<span class="o">]</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="nv">Description</span><span class="o">=</span>The<span class="w"> </span>NVIDIA<span class="w"> </span>tegra<span class="w"> </span>init<span class="w"> </span>script
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="o">[</span>Service<span class="o">]</span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="nv">type</span><span class="o">=</span>oneshot
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="nv">RemainAfterExit</span><span class="o">=</span>yes
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="nv">ExecStart</span><span class="o">=</span>/usr/bin/nvidia-tegra-init-script
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a>
<a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="o">[</span>Install<span class="o">]</span>
<a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="nv">WantedBy</span><span class="o">=</span>multi-user.target
</code></pre></div></p>
</li>
<li>
<p>Similarly, create a new file at <code>&lt;path_to_L4T_TOP_DIR&gt;/rootfs/usr/bin/nvidia-tegra-init-script</code>, and place these contents inside:</p>
<p>Create and open fil in vim editor:
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>sudo<span class="w"> </span>vim<span class="w"> </span>Linux_for_Tegra/rootfs/usr/bin/nvidia-tegra-init-script
</code></pre></div></p>
<p>File contents:
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-e<span class="w"> </span>/sys/power/state<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="w">    </span>chmod<span class="w"> </span><span class="m">0666</span><span class="w"> </span>/sys/power/state
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="k">fi</span>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-e<span class="w"> </span>/sys/devices/soc0/family<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="w">    </span><span class="nv">SOCFAMILY</span><span class="o">=</span><span class="s2">&quot;`cat /sys/devices/soc0/family`&quot;</span>
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="k">fi</span>
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a>
<a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SOCFAMILY</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Tegra210&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a><span class="w">    </span><span class="o">[</span><span class="w"> </span>-e<span class="w"> </span>/sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a><span class="w">    </span>sudo<span class="w"> </span>bash<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;echo -n 510000 &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq&quot;</span>
<a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a><span class="k">fi</span>
<a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a>
<a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-d<span class="w"> </span>/sys/devices/system/cpu/cpuquiet/tegra_cpuquiet<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-26-17" name="__codelineno-26-17" href="#__codelineno-26-17"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="m">500</span><span class="w"> </span>&gt;<span class="w"> </span>/sys/devices/system/cpu/cpuquiet/tegra_cpuquiet/down_delay
<a id="__codelineno-26-18" name="__codelineno-26-18" href="#__codelineno-26-18"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>&gt;<span class="w"> </span>/sys/devices/system/cpu/cpuquiet/tegra_cpuquiet/enable
<a id="__codelineno-26-19" name="__codelineno-26-19" href="#__codelineno-26-19"></a><span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-w<span class="w"> </span>/sys/module/cpu_tegra210/parameters/auto_hotplug<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-26-20" name="__codelineno-26-20" href="#__codelineno-26-20"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>&gt;<span class="w"> </span>/sys/module/cpu_tegra210/parameters/auto_hotplug
<a id="__codelineno-26-21" name="__codelineno-26-21" href="#__codelineno-26-21"></a><span class="k">fi</span>
<a id="__codelineno-26-22" name="__codelineno-26-22" href="#__codelineno-26-22"></a>
<a id="__codelineno-26-23" name="__codelineno-26-23" href="#__codelineno-26-23"></a><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-e<span class="w"> </span>/sys/module/cpuidle/parameters/power_down_in_idle<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-26-24" name="__codelineno-26-24" href="#__codelineno-26-24"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Y&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>/sys/module/cpuidle/parameters/power_down_in_idle
<a id="__codelineno-26-25" name="__codelineno-26-25" href="#__codelineno-26-25"></a><span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-e<span class="w"> </span>/sys/module/cpuidle/parameters/lp2_in_idle<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-26-26" name="__codelineno-26-26" href="#__codelineno-26-26"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Y&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>/sys/module/cpuidle/parameters/lp2_in_idle
<a id="__codelineno-26-27" name="__codelineno-26-27" href="#__codelineno-26-27"></a><span class="k">fi</span>
<a id="__codelineno-26-28" name="__codelineno-26-28" href="#__codelineno-26-28"></a>
<a id="__codelineno-26-29" name="__codelineno-26-29" href="#__codelineno-26-29"></a><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-e<span class="w"> </span>/sys/block/sda0/queue/read_ahead_kb<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-26-30" name="__codelineno-26-30" href="#__codelineno-26-30"></a><span class="nb">echo</span><span class="w"> </span><span class="m">2048</span><span class="w"> </span>&gt;<span class="w"> </span>/sys/block/sda0/queue/read_ahead_kb
<a id="__codelineno-26-31" name="__codelineno-26-31" href="#__codelineno-26-31"></a><span class="k">fi</span>
<a id="__codelineno-26-32" name="__codelineno-26-32" href="#__codelineno-26-32"></a><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-e<span class="w"> </span>/sys/block/sda1/queue/read_ahead_kb<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-26-33" name="__codelineno-26-33" href="#__codelineno-26-33"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="m">2048</span><span class="w"> </span>&gt;<span class="w"> </span>/sys/block/sda1/queue/read_ahead_kb
<a id="__codelineno-26-34" name="__codelineno-26-34" href="#__codelineno-26-34"></a><span class="k">fi</span>
<a id="__codelineno-26-35" name="__codelineno-26-35" href="#__codelineno-26-35"></a>
<a id="__codelineno-26-36" name="__codelineno-26-36" href="#__codelineno-26-36"></a><span class="k">for</span><span class="w"> </span>uartInst<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span>
<a id="__codelineno-26-37" name="__codelineno-26-37" href="#__codelineno-26-37"></a><span class="k">do</span>
<a id="__codelineno-26-38" name="__codelineno-26-38" href="#__codelineno-26-38"></a><span class="w">    </span><span class="nv">uartNode</span><span class="o">=</span><span class="s2">&quot;/dev/ttyHS</span><span class="nv">$uartInst</span><span class="s2">&quot;</span>
<a id="__codelineno-26-39" name="__codelineno-26-39" href="#__codelineno-26-39"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$uartNode</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-26-40" name="__codelineno-26-40" href="#__codelineno-26-40"></a><span class="w">        </span>ln<span class="w"> </span>-s<span class="w"> </span>/dev/ttyHS<span class="nv">$uartInst</span><span class="w"> </span>/dev/ttyTHS<span class="nv">$uartInst</span>
<a id="__codelineno-26-41" name="__codelineno-26-41" href="#__codelineno-26-41"></a><span class="w">    </span><span class="k">fi</span>
<a id="__codelineno-26-42" name="__codelineno-26-42" href="#__codelineno-26-42"></a><span class="k">done</span>
<a id="__codelineno-26-43" name="__codelineno-26-43" href="#__codelineno-26-43"></a>
<a id="__codelineno-26-44" name="__codelineno-26-44" href="#__codelineno-26-44"></a><span class="nv">machine</span><span class="o">=</span><span class="sb">`</span>cat<span class="w"> </span>/sys/devices/soc0/machine<span class="sb">`</span>
<a id="__codelineno-26-45" name="__codelineno-26-45" href="#__codelineno-26-45"></a><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">machine</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;jetson-nano-devkit&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-26-46" name="__codelineno-26-46" href="#__codelineno-26-46"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="m">4</span><span class="w"> </span>&gt;<span class="w"> </span>/sys/class/graphics/fb0/blank
<a id="__codelineno-26-47" name="__codelineno-26-47" href="#__codelineno-26-47"></a><span class="w">            </span><span class="nv">BoardRevision</span><span class="o">=</span><span class="sb">`</span>cat<span class="w"> </span>/proc/device-tree/chosen/board_info/major_revision<span class="sb">`</span>
<a id="__codelineno-26-48" name="__codelineno-26-48" href="#__codelineno-26-48"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BoardRevision</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;A&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">||</span>
<a id="__codelineno-26-49" name="__codelineno-26-49" href="#__codelineno-26-49"></a><span class="w">                    </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BoardRevision</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;B&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">||</span>
<a id="__codelineno-26-50" name="__codelineno-26-50" href="#__codelineno-26-50"></a><span class="w">                    </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BoardRevision</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;C&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">||</span>
<a id="__codelineno-26-51" name="__codelineno-26-51" href="#__codelineno-26-51"></a><span class="w">                    </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BoardRevision</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;D&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-26-52" name="__codelineno-26-52" href="#__codelineno-26-52"></a><span class="w">                    </span><span class="nb">echo</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>&gt;<span class="w"> </span>/sys/devices/platform/tegra-otg/enable_device
<a id="__codelineno-26-53" name="__codelineno-26-53" href="#__codelineno-26-53"></a><span class="w">                    </span><span class="nb">echo</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>&gt;<span class="w"> </span>/sys/devices/platform/tegra-otg/enable_host
<a id="__codelineno-26-54" name="__codelineno-26-54" href="#__codelineno-26-54"></a><span class="w">            </span><span class="k">fi</span>
<a id="__codelineno-26-55" name="__codelineno-26-55" href="#__codelineno-26-55"></a><span class="k">fi</span>
<a id="__codelineno-26-56" name="__codelineno-26-56" href="#__codelineno-26-56"></a>
<a id="__codelineno-26-57" name="__codelineno-26-57" href="#__codelineno-26-57"></a><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-e<span class="w"> </span>/sys/devices/system/cpu/cpu0/cpufreq/scaling_available_governors<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-26-58" name="__codelineno-26-58" href="#__codelineno-26-58"></a><span class="w">    </span><span class="nb">read</span><span class="w"> </span>governors<span class="w"> </span>&lt;<span class="w"> </span>/sys/devices/system/cpu/cpu0/cpufreq/scaling_available_governors
<a id="__codelineno-26-59" name="__codelineno-26-59" href="#__codelineno-26-59"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="nv">$governors</span><span class="w"> </span><span class="k">in</span>
<a id="__codelineno-26-60" name="__codelineno-26-60" href="#__codelineno-26-60"></a><span class="w">        </span>*interactive*<span class="o">)</span>
<a id="__codelineno-26-61" name="__codelineno-26-61" href="#__codelineno-26-61"></a><span class="w">            </span><span class="nb">echo</span><span class="w"> </span>interactive<span class="w"> </span>&gt;<span class="w"> </span>/sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
<a id="__codelineno-26-62" name="__codelineno-26-62" href="#__codelineno-26-62"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-e<span class="w"> </span>/sys/devices/system/cpu/cpufreq/interactive<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-26-63" name="__codelineno-26-63" href="#__codelineno-26-63"></a><span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;1224000&quot;</span><span class="w"> </span>&gt;/sys/devices/system/cpu/cpufreq/interactive/hispeed_freq
<a id="__codelineno-26-64" name="__codelineno-26-64" href="#__codelineno-26-64"></a><span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;95&quot;</span><span class="w"> </span>&gt;/sys/devices/system/cpu/cpufreq/interactive/target_loads
<a id="__codelineno-26-65" name="__codelineno-26-65" href="#__codelineno-26-65"></a><span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;20000&quot;</span><span class="w"> </span>&gt;/sys/devices/system/cpu/cpufreq/interactive/min_sample_time
<a id="__codelineno-26-66" name="__codelineno-26-66" href="#__codelineno-26-66"></a><span class="w">            </span><span class="k">fi</span>
<a id="__codelineno-26-67" name="__codelineno-26-67" href="#__codelineno-26-67"></a><span class="w">                </span><span class="p">;;</span>
<a id="__codelineno-26-68" name="__codelineno-26-68" href="#__codelineno-26-68"></a><span class="w">        </span>*<span class="o">)</span>
<a id="__codelineno-26-69" name="__codelineno-26-69" href="#__codelineno-26-69"></a><span class="w">                </span><span class="p">;;</span>
<a id="__codelineno-26-70" name="__codelineno-26-70" href="#__codelineno-26-70"></a><span class="w">    </span><span class="k">esac</span>
<a id="__codelineno-26-71" name="__codelineno-26-71" href="#__codelineno-26-71"></a><span class="k">fi</span>
<a id="__codelineno-26-72" name="__codelineno-26-72" href="#__codelineno-26-72"></a>
<a id="__codelineno-26-73" name="__codelineno-26-73" href="#__codelineno-26-73"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Success! Exiting&quot;</span>
<a id="__codelineno-26-74" name="__codelineno-26-74" href="#__codelineno-26-74"></a><span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
</code></pre></div></p>
</li>
<li>
<p>Enable the script before flashing / first boot by create the following symbolic link to enable the service:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="nb">cd</span><span class="w"> </span>Linux_for_Tegra/rootfs/etc/systemd/system/sysinit.target.wants/
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>ln<span class="w"> </span>-s<span class="w"> </span>/usr/lib/systemd/system/nvidia-tegra.service<span class="w"> </span>nvidia-tegra.service
</code></pre></div></p>
<p>This should be executed after apply_binaries, so the nvidia-tegra service is in place.</p>
</li>
</ol>
<h3 id="pacman-configuration">Pacman Configuration</h3>
<ol>
<li>
<p>As we have installed a custom kernel to boot linux on the jetson-nano-devkit, it is necessary to update pacman.conf to ignore updates to the kernel package. To do so add <code>linux</code> as an ignored package to your <code>&lt;path_to_L4T_rootfs&gt;/etc/pacman.conf</code> as below:</p>
<p>Open file in vim editor:
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>sudo<span class="w"> </span>vim<span class="w"> </span>Linux_for_Tegra/rootfs/etc/pacman.conf
</code></pre></div></p>
<p>Edit the following line to:
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="nv">IgnorePkg</span><span class="o">=</span>linux
</code></pre></div></p>
</li>
</ol>
<h2 id="flashing-the-jetson">Flashing the Jetson</h2>
<p>The steps for flashing the Arch Linux image to the Jetson are no different than flashing the image for Ubuntu.</p>
<ol>
<li>
<p>Enable recovery mode on the Jetson:</p>
<ul>
<li>
<p>Enabling recovery Mode on the Jetson:</p>
<ol>
<li>Jumper the J48 power select pin first and plug the power jack</li>
<li>Jumper the recovery pin</li>
<li>Jumper the reset pin</li>
<li>Remove the jumper of reset pin</li>
<li>Remove the jumper of recovery pin.</li>
</ol>
<p>You should be able to see an nvidia device with <code>lsusb</code> command on your host computer.</p>
</li>
</ul>
</li>
<li>
<p>Plug the jetson in via USB to the host computer (where you have done steps 1-18).</p>
</li>
<li>
<p>Apply the NVIDIA specific configuration, binaries and the L4T kernel:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>sudo<span class="w"> </span>./apply_binaries.sh
</code></pre></div></p>
</li>
<li>
<p>Create the image from the <code>rootfs</code> directory and flash the image to the Jetson:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>sudo<span class="w"> </span>./flash.sh<span class="w"> </span>jetson-nano-devkit<span class="w"> </span>mmcblk0p1
</code></pre></div></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You may need to change the big <code>if</code> statement of the <code>apply_binaries.sh</code> script to get it to apply the changes you made in the previous steps. Test and see.</p>
</div>
</li>
<li>
<p>Your device should reboot and prompt you to login. The default login for Arch Linux ARM is:
    Username: root
    Password: root</p>
</li>
</ol>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["search.suggest", "content.tabs.link"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>